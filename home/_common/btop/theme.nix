{config, ...}: {
  xdg.configFile."btop/themes/${config.colorScheme.slug}.theme".text = with config.colorScheme.palette; ''
    # Custom theme
    theme[main_bg]="#${base}"
    theme[main_fg]="#${text}"
    theme[title]="#${white}"
    theme[hi_fg]="#${pink}"
    theme[selected_bg]="#${surface2}"
    theme[selected_fg]="#${white}"
    theme[inactive_fg]="#${overlay1}"
    theme[graph_text]="#${overlay2}"
    theme[meter_bg]="#${surface1}"
    theme[proc_misc]="#${blue}"
    theme[cpu_box]="#${blue}"
    theme[mem_box]="#${pink}"
    theme[net_box]="#${sand}"
    theme[proc_box]="#${viridis}"
    theme[div_line]="#${surface1}"
    theme[temp_start]="#${yellow}"
    theme[temp_mid]="#${orange}"
    theme[temp_end]="#${ruby}"
    theme[cpu_start]="#${blue}"
    theme[cpu_mid]="#${indigo}"
    theme[cpu_end]="#${amethyst}"
    theme[free_start]="#${green}"
    theme[free_mid]="#${viridis}"
    theme[free_end]="#${ocean}"
    theme[cached_start]="#${red}"
    theme[cached_mid]="#${pink}"
    theme[cached_end]="#${ruby}"
    theme[available_start]="#${yellow}"
    theme[available_mid]="#${sand}"
    theme[available_end]="#${orange}"
    theme[used_start]="#${ocean}"
    theme[used_mid]="#${blue}"
    theme[used_end]="#${indigo}"
    theme[download_start]="#${ocean}"
    theme[download_mid]="#${teal}"
    theme[download_end]="#${viridis}"
    theme[upload_start]="#${red}"
    theme[upload_mid]="#${pink}"
    theme[upload_end]="#${ruby}"
    theme[process_start]="#${sand}"
    theme[process_mid]="#${pink}"
    theme[process_end]="#${indigo}"
  '';
}
